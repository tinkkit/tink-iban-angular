/*! tink-iban-angular v1.0.0 */
"use strict";!function(module){try{module=angular.module("tink.iban")}catch(e){module=angular.module("tink.iban",["tink.safeApply","tink.formathelper"])}module.directive("tinkIban",["$window","safeApply",function($window,safeApply){return{restrict:"AE",controller:"tinkFormatController",require:["tinkIban","ngModel","?^form"],template:function(){var isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative;return isTouch?'<div><input class="hide-styling" type="text"><div>':'<div tabindex="-1"><div id="input" class="faux-input" contenteditable="true">{{placeholder}}</div></div>'},link:function(scope,elm,attr,ctrl){function isIBANValid(n){return IBAN.isValid(n)}function checkvalidty(value){value===config.placeholder||""===value||null===value||void 0===value?ngControl.$setValidity("format",!0):ngControl.$setValidity("format",isIBANValid(value)),isRequired&&(controller.getValue()===config.placeholder||""===value||null===value||void 0===value?(ngControl.$setValidity("required",!1),ngControl.$setValidity("format",!0)):ngControl.$setValidity("required",!0))}elm.attr("tabindex","-1");var isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative,controller=ctrl[0],form=ctrl[2],ngControl=ctrl[1],element=elm.find("div>:first"),config={format:"[A-Z]{2}[0-9]{2} [0-9]{4} [0-9]{4} [0-9]{4}",placeholder:"BE00 0000 0000 0000"};element.unbind("input").unbind("keydown").unbind("change"),element.on("blur",function(){safeApply(scope,function(){var value;value=isTouch?element.val():controller.getValue(),checkvalidty(value),isIBANValid(value)?(ngControl.$setViewValue(value),ngControl.$render()):ngControl.$setViewValue(null),form&&(ngControl.$ngBlur=!0)})}),element.bind("valueChanged",function(e,val){safeApply(scope,function(){checkvalidty(val)})});var isRequired=function(){return"true"===attr.required||""===attr.required||"required"===attr.required?!0:!1}();isTouch||controller.init(element,config,form,ngControl)}}}])}();
//# sourceMappingURL=tink-iban-angular.min.map